---
layout: post
title:  Aha! Reverse Proxy
date:   2018-08-04 23:00:00
categories: web开发
---

* 什么是正向代理和反向代理？
* 正向代理与反向代理有什么区别和联系？
* 反向代理的应用

### 什么是正向代理和反向代理
正向代理（Forward Proxy）指的是位于客户端和原始服务器之间的中间服务器，为了从原始服务器获取内容，客户端向原始服务器发送的请求先发送到代理服务器，代理服务器从原始服务器请求内容并将其返回给客户端。客户端必须进行特殊的配置来使用正向代理访问其他网站。  

最典型的正向代理是vpn，客户端配置vpn之后，可以访问公司内网或者是国外的网站。

反向代理（Reverse Proxy）也位于客户端和原始服务器之间，与正向代理不同，客户端不需要进行任何特殊的配置。反向代理接受客户端请求，从一个或多个原始服务器获取内容并将其返回给客户端。

看起来除了客户端是否需要进行特殊的配置，正向代理和反向代理并没有太大的区别。的确，正向代理和方向代理都是位于客户端和原始服务器之间，接收用户请求，从原始服务器请求内容并将其返回给客户端。但是，正向代理和反向代理的 **具体位置不一样，目的也不一样**。正向代理靠近客户端，相对客户端和原始服务器来说，正向代理往往是第三方，为客户端代理；反向代理靠近原始服务器，反向代理往往与原始服务器一起部署，为原始服务器代理，**对客户端来说，并不清楚反向代理的存在**，而客户端是清楚正向代理的存在的，因为正向代理为客户端服务，要求客户端进行特殊的配置。

正向代理的用途很简单，由于“墙”的存在，客户端A不能访问服务器B，这时候客户端A就需要正向代理C，A可以访问C，C可以访问B，这样，通过正向代理C，客户端A就能访问服务器B。

### 反向代理的应用
* 负载均衡（Load balancing）
* 应用防火墙（Application firewall）
* 缓存（caching）

### 参考资料
* [Reverse proxy](https://en.wikipedia.org/wiki/Reverse_proxy)
* [Proxy server](https://en.wikipedia.org/wiki/Proxy_server#Forward_proxy)